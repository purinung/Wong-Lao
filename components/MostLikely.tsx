
import React, { useState, useEffect } from 'react';

interface MostLikelyProps {
  onClose: () => void;
}

const QUESTIONS = [
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡πÄ‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏±‡∏Å‡∏´‡∏≤‡πÅ‡∏ü‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡∏Ñ‡∏ô‡πÅ‡∏£‡∏Å?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏ï‡∏¥‡∏î‡∏Ñ‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡∏´‡∏≤‡πÅ‡∏õ‡∏•‡∏Å‡πÜ?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏£‡∏ß‡∏¢‡∏ó‡∏≤‡∏á‡∏•‡∏±‡∏î (‡∏™‡∏≤‡∏¢‡πÄ‡∏ó‡∏≤)?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡πÑ‡∏î‡πâ‡πÅ‡∏ü‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏≤‡∏ß‡∏ï‡πà‡∏≤‡∏á‡∏ä‡∏≤‡∏ï‡∏¥?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏´‡∏ô‡∏µ‡∏ö‡∏¥‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏´‡∏•‡πâ‡∏≤‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏°‡∏µ‡∏Ñ‡∏•‡∏¥‡∏õ‡∏´‡∏•‡∏∏‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡πÄ‡∏õ‡πá‡∏ô‡∏î‡∏≤‡∏£‡∏≤‡∏´‡∏ô‡∏±‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà‡πÑ‡∏î‡πâ?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏ï‡∏≤‡∏¢‡∏Ñ‡∏ô‡πÅ‡∏£‡∏Å‡∏ñ‡πâ‡∏≤‡∏ã‡∏≠‡∏°‡∏ö‡∏µ‡πâ‡∏ö‡∏∏‡∏Å?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡πÑ‡∏õ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏™‡∏≤‡∏¢‡∏ï‡∏•‡∏≠‡∏î‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡πÇ‡∏î‡∏ô‡πÑ‡∏•‡πà‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ä‡∏π‡πâ‡∏™‡∏≤‡∏ß?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡πÅ‡∏≠‡∏ö‡πÅ‡∏ã‡πà‡∏ö‡∏Å‡∏±‡∏ö‡πÅ‡∏ü‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏£‡πâ‡∏≠‡∏á‡πÑ‡∏´‡πâ‡∏Ñ‡∏ô‡πÅ‡∏£‡∏Å‡πÉ‡∏ô‡∏Ñ‡∏∑‡∏ô‡∏ô‡∏µ‡πâ?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏≠‡πâ‡∏ß‡∏Å‡πÉ‡∏™‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏´‡∏•‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡πÇ‡∏î‡∏ô‡∏ï‡πâ‡∏°‡∏ï‡∏∏‡πã‡∏ô (Call Center) ‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡πÅ‡∏ï‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏Ñ‡∏ô‡πÅ‡∏£‡∏Å?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏´‡∏¢‡πà‡∏≤‡∏Ñ‡∏ô‡πÅ‡∏£‡∏Å?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡πÄ‡∏à‡πâ‡∏≤‡∏ä‡∏π‡πâ‡πÄ‡∏á‡∏µ‡∏¢‡∏ö?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏û‡∏π‡∏î‡πÇ‡∏Å‡∏´‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö‡πÄ‡∏¢‡∏≠‡∏∞‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏Ç‡∏µ‡πâ‡∏á‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡πÄ‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏£‡∏∑‡πâ‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏™‡∏°‡∏≠?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏ï‡∏¥‡∏î‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡πÑ‡∏°‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏®‡∏±‡∏•‡∏¢‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏¢‡∏≠‡∏∞‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡∏ä‡∏ô?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡πÄ‡∏õ‡πá‡∏ô Sugar Daddy / Sugar Mommy?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏ü‡∏ô‡∏ö‡πà‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏ô‡∏≠‡∏ô‡∏Å‡∏£‡∏ô‡∏î‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏•‡∏∑‡∏°‡πÉ‡∏™‡πà‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡πÉ‡∏ô‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ö‡πâ‡∏≤‡∏ô?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏ä‡∏≠‡∏ö‡πÇ‡∏ä‡∏ß‡πå‡∏û‡∏≤‡∏ß?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏ö‡πâ‡∏≤‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏õ‡∏≤‡∏Å‡∏™‡∏ß‡πà‡∏≤‡∏á ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡πÄ‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏ä‡∏≠‡∏ö‡∏ñ‡∏≠‡∏î‡πÄ‡∏™‡∏∑‡πâ‡∏≠?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏ä‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡πÅ‡∏õ‡∏•‡∏Å?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏ï‡∏∑‡πà‡∏ô‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡∏°‡∏µ‡∏•‡∏π‡∏Å‡πÄ‡∏¢‡∏≠‡∏∞‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
  "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞... ‡πÑ‡∏õ‡∏ö‡∏ß‡∏ä‡∏ï‡∏•‡∏≠‡∏î‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï?"
];

const MostLikely: React.FC<MostLikelyProps> = ({ onClose }) => {
  const [currentQuestion, setCurrentQuestion] = useState<string>("");
  const [isCounting, setIsCounting] = useState(false);
  const [count, setCount] = useState(3);
  const [showPoint, setShowPoint] = useState(false);

  useEffect(() => {
    nextQuestion();
  }, []);

  const nextQuestion = () => {
    setIsCounting(false);
    setShowPoint(false);
    setCount(3);
    const randomQ = QUESTIONS[Math.floor(Math.random() * QUESTIONS.length)];
    setCurrentQuestion(randomQ);
  };

  const startCountdown = () => {
    if (isCounting) return;
    setIsCounting(true);
    
    let timer = 3;
    const interval = setInterval(() => {
      timer--;
      setCount(timer);
      if (timer === 0) {
        clearInterval(interval);
        setShowPoint(true);
      }
    }, 1000);
  };

  return (
    <div className="fixed inset-0 z-50 flex items-center justify-center bg-indigo-900/95 backdrop-blur-md transition-colors duration-500">
      <div className="w-full max-w-md p-8 flex flex-col items-center justify-between h-[90dvh]">
        
        {/* Header */}
        <div className="text-center">
           <h2 className="text-3xl font-bold text-cyan-400 uppercase tracking-widest drop-shadow-lg">
             VOTE!
           </h2>
           <p className="text-gray-400 text-xs mt-1">‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ä‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°!</p>
        </div>

        {/* Content Area */}
        <div className="flex-1 flex flex-col items-center justify-center w-full text-center">
           
           {!isCounting && !showPoint && (
             <div className="animate-fade-in w-full">
               <div className="bg-white/10 border border-white/20 p-8 rounded-2xl backdrop-blur-xl shadow-2xl mb-8 min-h-[200px] flex items-center justify-center">
                  <h3 className="text-2xl md:text-3xl font-bold text-white leading-relaxed">
                    "{currentQuestion}"
                  </h3>
               </div>
               
               <button 
                 onClick={startCountdown}
                 className="w-full py-5 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white font-bold text-xl rounded-xl shadow-lg shadow-cyan-500/30 transform active:scale-95 transition-all"
               >
                 ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á! ‚è±Ô∏è
               </button>
               
               <button 
                 onClick={nextQuestion}
                 className="mt-4 text-gray-400 hover:text-white text-sm underline"
               >
                 ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°
               </button>
             </div>
           )}

           {isCounting && !showPoint && (
             <div className="flex items-center justify-center">
                <div className="text-[150px] font-black text-white drop-shadow-[0_0_30px_rgba(34,211,238,0.8)] animate-pulse">
                  {count}
                </div>
             </div>
           )}

           {showPoint && (
             <div className="animate-bounce text-center">
                <div className="text-[100px]">ü´µ</div>
                <h2 className="text-6xl font-black text-yellow-400 drop-shadow-[0_4px_0_rgb(0,0,0)] stroke-black my-4">
                  ‡∏ä‡∏µ‡πâ‡πÄ‡∏•‡∏¢!
                </h2>
                <p className="text-xl text-white mb-8">‡πÉ‡∏Ñ‡∏£‡πÇ‡∏î‡∏ô‡∏ä‡∏µ‡πâ‡πÄ‡∏¢‡∏≠‡∏∞‡∏™‡∏∏‡∏î... ‡∏´‡∏°‡∏î‡πÅ‡∏Å‡πâ‡∏ß!</p>
                
                <button 
                  onClick={nextQuestion}
                  className="px-8 py-4 bg-white text-indigo-900 font-bold text-lg rounded-full hover:bg-gray-200 transition-colors shadow-xl"
                >
                   ‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠‡πÑ‡∏õ ‚û°Ô∏è
                </button>
             </div>
           )}

        </div>

        {/* Close Button */}
        <button 
            onClick={onClose} 
            className="absolute top-4 right-4 p-2 text-gray-400 hover:text-white transition-colors"
        >
            <svg xmlns="http://www.w3.org/2000/svg" className="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>

      </div>
    </div>
  );
};

export default MostLikely;
